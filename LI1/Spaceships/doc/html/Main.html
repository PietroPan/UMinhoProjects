<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Main.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Main</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo define fun&#231;&#245;es comuns da Tarefa 5 do trabalho pr&#225;tico.</p><p>O objetivo desta tarefa &#233; juntar as fun&#231;&#245;es criadas em tarefas anteriores e criar uma interface gr&#225;fica para fazer um jogo.</p><ul><li>Desafio : Escolher o tema e arranjar imagens para o jogo.</li></ul><p>Como tema do nosso jogo escolhemos o espa&#231;o, cada jogador &#233; uma nave espacial e os Blocos Destrut&#237;ves s&#227;o asteroides e os Blocos Indestrut&#237;veis s&#227;o pedras Impenetr&#225;veis</p><p>A maior partes as imagens s&#227;o desenhadas com um editor de imagem (Gimp) &#224; excess&#227;o de alguns elementos</p><ul><li>Desafio : Como adicionar v&#225;rios menus</li></ul><p>Para conseguirmos cumprir este desafio aumentamos o nosso estado de modo a que possu&#237;sse um n&#250;mero que representasse o estado</p><ul><li>Entre 0 e 1 -&gt; Menu Inicial</li><li>Entre 1 e 2 -&gt; Jogo em andamento</li><li>Entre 2 e 3 -&gt; Jogo em Pausa</li><li>Entre 3 e 4 -&gt; Jogo Terminou</li></ul><p>Os pontos acima indicam o que cada numero representa</p><ul><li>Desafio : Como fazer um contador de tempo</li></ul><p>Para conseguirmos cumprir este desafio aumentamos o nosso estado de modo a que recebesse um inteiro a qual era adicionado uma unidade sempre que passava um tick.
Como a framerate do nosso jogo &#233; 4 frames por segundo &#233; necess&#225;rio dividir este n&#250;mero por quatro antes de ser desenhado.</p><ul><li>Desafio : Op&#231;&#245;es de jogo.</li></ul><p>O jogador pode escolher jogar com outros amigos no mesmo PC (PvP) ou contra 3 bots programados na tarefa 6.
Tamb&#233;m pode escolher de entre 5 mapas, reiniciar ou para jogo.
O jogo acaba assim que passar um minuto desde o in&#237;cio do jogo ou se s&#243; restar apenas um ou nenhum jogador.</p><p>Em conclus&#227;o, a nossa interface gr&#225;fica &#233; simples mas de f&#225;cil interpreta&#231;&#227;o.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:EstadoMain">EstadoMain</a> = (<a href="LI11819.html#t:Estado">Estado</a>, Float, Int, Int, [Picture])</li><li class="src short"><a href="#v:loadIMG">loadIMG</a> :: IO [Picture]</li><li class="src short"><a href="#v:disM">disM</a> :: Display</li><li class="src short"><a href="#v:estadoInicial">estadoInicial</a> :: [Picture] -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a></li><li class="src short"><a href="#v:desenhaEstado">desenhaEstado</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Picture</li><li class="src short"><a href="#v:drawall">drawall</a> :: [Picture] -&gt; [Picture] -&gt; [Picture] -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:escolhechoque">escolhechoque</a> :: Int -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:escolhecanhao">escolhecanhao</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:escolhejogador">escolhejogador</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:escolhelaser">escolhelaser</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:drawscore">drawscore</a> :: [Picture] -&gt; [Picture] -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:drawnumboflives">drawnumboflives</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture]</li><li class="src short"><a href="#v:drawnumboflazers">drawnumboflazers</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture]</li><li class="src short"><a href="#v:drawnumbofchoque">drawnumbofchoque</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture]</li><li class="src short"><a href="#v:drawmap">drawmap</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="LI11819.html#t:Posicao">Posicao</a> -&gt; [Picture]</li><li class="src short"><a href="#v:drawshots">drawshots</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; [Picture]</li><li class="src short"><a href="#v:drawlasers">drawlasers</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; [[Picture]]</li><li class="src short"><a href="#v:drawonelaser">drawonelaser</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [<a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a>] -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:posicoesLaser">posicoesLaser</a> :: <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; [<a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a>]</li><li class="src short"><a href="#v:drawplayers">drawplayers</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture]</li><li class="src short"><a href="#v:eventChange">eventChange</a> :: Event -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a></li><li class="src short"><a href="#v:bot1">bot1</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:bot2">bot2</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:bot3">bot3</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:endgame">endgame</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a></li><li class="src short"><a href="#v:winner">winner</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; (Int, Int, Int) -&gt; Float</li><li class="src short"><a href="#v:onlyoneplayer">onlyoneplayer</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:timeChange">timeChange</a> :: Float -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a></li><li class="src short"><a href="#v:main">main</a> :: IO ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EstadoMain" class="def">EstadoMain</a> = (<a href="LI11819.html#t:Estado">Estado</a>, Float, Int, Int, [Picture]) <a href="#t:EstadoMain" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o principal da Tarefa 5.</p><p><strong>NB:</strong> Esta Tarefa &#233; completamente livre. Deve utilizar a biblioteca <a href="http://hackage.haskell.org/package/gloss">gloss</a> para animar o jogo, e reutilizar <strong>de forma completa</strong> as fun&#231;&#245;es das tarefas anteriores.
 | Este m&#243;dulo define fun&#231;&#245;es comuns da Tarefa 5 do trabalho pr&#225;tico.</p><p>Fun&#231;&#227;o principal da Tarefa 5.</p><p><strong>NB:</strong> Esta Tarefa &#233; completamente livre. Deve utilizar a biblioteca <a href="http://hackage.haskell.org/package/gloss">gloss</a> para animar o jogo, e reutilizar <strong>de forma completa</strong> as fun&#231;&#245;es das tarefas anteriores.</p></div></div><div class="top"><p class="src"><a id="v:loadIMG" class="def">loadIMG</a> :: IO [Picture] <a href="#v:loadIMG" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o para carregar as imagens</p></div></div><div class="top"><p class="src"><a id="v:disM" class="def">disM</a> :: Display <a href="#v:disM" class="selflink">#</a></p><div class="doc"><p>Cria o ecr&#227; do jogo</p></div></div><div class="top"><p class="src"><a id="v:estadoInicial" class="def">estadoInicial</a> :: [Picture] -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> <a href="#v:estadoInicial" class="selflink">#</a></p><div class="doc"><p>D&#225; o estado inicial do jogo</p></div></div><div class="top"><p class="src"><a id="v:desenhaEstado" class="def">desenhaEstado</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Picture <a href="#v:desenhaEstado" class="selflink">#</a></p><div class="doc"><p>Desenha o jogo dependendo do seu <code><a href="Main.html#t:EstadoMain">EstadoMain</a></code></p></div></div><div class="top"><p class="src"><a id="v:drawall" class="def">drawall</a> :: [Picture] -&gt; [Picture] -&gt; [Picture] -&gt; [Picture] -&gt; [Picture] <a href="#v:drawall" class="selflink">#</a></p><div class="doc"><p>Junta um conjunto de figuras</p></div></div><div class="top"><p class="src"><a id="v:escolhechoque" class="def">escolhechoque</a> :: Int -&gt; [Picture] -&gt; Picture <a href="#v:escolhechoque" class="selflink">#</a></p><div class="doc"><p>Escolhe a imagem do choque a usar dependendo do jogador que o usou</p></div></div><div class="top"><p class="src"><a id="v:escolhecanhao" class="def">escolhecanhao</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [Picture] -&gt; Picture <a href="#v:escolhecanhao" class="selflink">#</a></p><div class="doc"><p>Escolhe a imagem do canh&#227;o a usar dependendo da sua dire&#231;&#227;o e do jogador que o usou </p></div></div><div class="top"><p class="src"><a id="v:escolhejogador" class="def">escolhejogador</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [Picture] -&gt; Picture <a href="#v:escolhejogador" class="selflink">#</a></p><div class="doc"><p>Escolhe a imagem do jogador a usar dependendo do seu indice na lista de jogadores e da sua dire&#231;&#227;o</p></div></div><div class="top"><p class="src"><a id="v:escolhelaser" class="def">escolhelaser</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [Picture] -&gt; Picture <a href="#v:escolhelaser" class="selflink">#</a></p><div class="doc"><p>Escolhe a imagem do laser a usar dependendo da sua dire&#231;&#227;o e do jogador que o usou</p></div></div><div class="top"><p class="src"><a id="v:drawscore" class="def">drawscore</a> :: [Picture] -&gt; [Picture] -&gt; [Picture] -&gt; Picture <a href="#v:drawscore" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:drawnumboflives" class="def">drawnumboflives</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture] <a href="#v:drawnumboflives" class="selflink">#</a></p><div class="doc"><p>Desenha o n&#250;mero de vidas dos <code><a href="LI11819.html#t:Jogador">Jogador</a></code>es</p></div></div><div class="top"><p class="src"><a id="v:drawnumboflazers" class="def">drawnumboflazers</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture] <a href="#v:drawnumboflazers" class="selflink">#</a></p><div class="doc"><p>Desenha o n&#250;mero de lasers dos <code><a href="LI11819.html#t:Jogador">Jogador</a></code>es</p></div></div><div class="top"><p class="src"><a id="v:drawnumbofchoque" class="def">drawnumbofchoque</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture] <a href="#v:drawnumbofchoque" class="selflink">#</a></p><div class="doc"><p>Desenha o n&#250;mero de choques dos <code><a href="LI11819.html#t:Jogador">Jogador</a></code>es</p></div></div><div class="top"><p class="src"><a id="v:drawmap" class="def">drawmap</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="LI11819.html#t:Posicao">Posicao</a> -&gt; [Picture] <a href="#v:drawmap" class="selflink">#</a></p><div class="doc"><p>Desenha o <code><a href="LI11819.html#t:Mapa">Mapa</a></code></p></div></div><div class="top"><p class="src"><a id="v:drawshots" class="def">drawshots</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; [Picture] <a href="#v:drawshots" class="selflink">#</a></p><div class="doc"><p>Desenha os <code><a href="LI11819.html#v:DisparoCanhao">DisparoCanhao</a></code> e <code>DiparoChoque</code></p></div></div><div class="top"><p class="src"><a id="v:drawlasers" class="def">drawlasers</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; [[Picture]] <a href="#v:drawlasers" class="selflink">#</a></p><div class="doc"><p>Desenha todos os <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code></p></div></div><div class="top"><p class="src"><a id="v:drawonelaser" class="def">drawonelaser</a> :: Int -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; [<a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a>] -&gt; [Picture] -&gt; [Picture] <a href="#v:drawonelaser" class="selflink">#</a></p><div class="doc"><p>Desenha um <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code></p></div></div><div class="top"><p class="src"><a id="v:posicoesLaser" class="def">posicoesLaser</a> :: <a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a> -&gt; <a href="LI11819.html#t:Direcao">Direcao</a> -&gt; <a href="LI11819.html#t:Mapa">Mapa</a> -&gt; [<a href="LI11819.html#t:PosicaoGrelha">PosicaoGrelha</a>] <a href="#v:posicoesLaser" class="selflink">#</a></p><div class="doc"><p>Encontra as posi&#231;&#245;es afetadas por um <code><a href="LI11819.html#v:DisparoLaser">DisparoLaser</a></code></p></div></div><div class="top"><p class="src"><a id="v:drawplayers" class="def">drawplayers</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; Int -&gt; [Picture] <a href="#v:drawplayers" class="selflink">#</a></p><div class="doc"><p>Desenha os <code>Joagadore</code>s</p></div></div><div class="top"><p class="src"><a id="v:eventChange" class="def">eventChange</a> :: Event -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> <a href="#v:eventChange" class="selflink">#</a></p><div class="doc"><p>Altera o <code><a href="Main.html#t:EstadoMain">EstadoMain</a></code> de acordo com a tecla pressionada e o o tipo de estado atual</p></div></div><div class="top"><p class="src"><a id="v:bot1" class="def">bot1</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:bot1" class="selflink">#</a></p><div class="doc"><p>Aplica o bot da Tarefa6 ao jogador de indice 1</p></div></div><div class="top"><p class="src"><a id="v:bot2" class="def">bot2</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:bot2" class="selflink">#</a></p><div class="doc"><p>Aplica o bot da Tarefa6 ao jogador de indice 2</p></div></div><div class="top"><p class="src"><a id="v:bot3" class="def">bot3</a> :: <a href="LI11819.html#t:Estado">Estado</a> -&gt; <a href="LI11819.html#t:Estado">Estado</a> <a href="#v:bot3" class="selflink">#</a></p><div class="doc"><p>Aplica o bot da Tarefa6 ao jogador de indice 3</p></div></div><div class="top"><p class="src"><a id="v:endgame" class="def">endgame</a> :: <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> <a href="#v:endgame" class="selflink">#</a></p><div class="doc"><p>Acaba com um jogo (se chegar a um certo tempo ou se s&#243; ouver um jogador ou menos no estado)</p></div></div><div class="top"><p class="src"><a id="v:winner" class="def">winner</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; (Int, Int, Int) -&gt; Float <a href="#v:winner" class="selflink">#</a></p><div class="doc"><p>altera o <code><a href="Main.html#t:EstadoMain">EstadoMain</a></code> para a apresentar o vencedor do jogo</p></div></div><div class="top"><p class="src"><a id="v:onlyoneplayer" class="def">onlyoneplayer</a> :: [<a href="LI11819.html#t:Jogador">Jogador</a>] -&gt; Int -&gt; Bool <a href="#v:onlyoneplayer" class="selflink">#</a></p><div class="doc"><p>Verifica se s&#243; h&#225; um ou zero jogadores no <code><a href="LI11819.html#t:Estado">Estado</a></code></p></div></div><div class="top"><p class="src"><a id="v:timeChange" class="def">timeChange</a> :: Float -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> -&gt; <a href="Main.html#t:EstadoMain">EstadoMain</a> <a href="#v:timeChange" class="selflink">#</a></p><div class="doc"><p>Alera o <code><a href="LI11819.html#t:Estado">Estado</a></code> a cada frame</p></div></div><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>Cria o jogo</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>